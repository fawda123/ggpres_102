<!DOCTYPE html>
<html>
<head>
  <title>ggplot2 redux</title>
  <meta charset="utf-8">
  <meta name="description" content="ggplot2 redux">
  <meta name="author" content="Marcus Beck">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/jwhSlidifyStyle.css"></link>
<link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <aside class="gdbar">
    <img src="assets/img/epa-seal.png">
  </aside>
  <hgroup class="auto-fadein">
    <h1>ggplot2 redux</h1>
    <h2>random things I like and other stuff</h2>
    <p>Marcus Beck<br/>ORISE post-doc</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>To cover</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>facet_wrap, facet_grid</li>
<li>themes, preset and custom</li>
<li>ggmap</li>
<li>ggally</li>
</ul>

<p>What can you do w/ ggplot2 that you can&#39;t do w/ base functions?</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>R Code Chunk Example</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Facetting is one of the more powerful aspects of ggplot2</p></li>
<li><p>plot y vs x (or just x) by z, where z is some categorical variable</p></li>
<li><p>facet_grid or facet_wrap</p></li>
</ul>

<pre><code class="r">data(diamonds)
head(diamonds)
</code></pre>

<pre><code>##   carat       cut color clarity depth table price    x    y    z
## 1  0.23     Ideal     E     SI2  61.5    55   326 3.95 3.98 2.43
## 2  0.21   Premium     E     SI1  59.8    61   326 3.89 3.84 2.31
## 3  0.23      Good     E     VS1  56.9    65   327 4.05 4.07 2.31
## 4  0.29   Premium     I     VS2  62.4    58   334 4.20 4.23 2.63
## 5  0.31      Good     J     SI2  63.3    58   335 4.34 4.35 2.75
## 6  0.24 Very Good     J    VVS2  62.8    57   336 3.94 3.96 2.48
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Simple scatterplot</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <pre><code class="r">p1 &lt;- ggplot(diamonds, aes(x = carat, 
        y = price)) +
    geom_point()
p1
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-4.png" title="plot of chunk unnamed-chunk-4" alt="plot of chunk unnamed-chunk-4" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Simple scatterplot with facet_wrap</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <pre><code class="r">p1 + facet_wrap(~color)
</code></pre>

<p>A simple scatterplot of diamond price by carat, <code>facet_wrap</code> by color</p>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-6.png" title="plot of chunk unnamed-chunk-6" alt="plot of chunk unnamed-chunk-6" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Simple scatterplot with facet_grid</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <pre><code class="r">p1 + facet_grid(~color)
</code></pre>

<p>A simple scatterplot of diamond price by carat, <code>facet_grid</code> by color</p>

<p>What&#39;s the difference?</p>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-8.png" title="plot of chunk unnamed-chunk-8" alt="plot of chunk unnamed-chunk-8" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>more important for multiple facet variables</li>
<li><code>facet_wrap</code> always has one horizontal facet label on the top</li>
</ul>

<pre><code class="r">p1 + facet_wrap(~ cut + color)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-9.png" title="plot of chunk unnamed-chunk-9" alt="plot of chunk unnamed-chunk-9" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>more important for multiple facet variables</li>
<li><code>facet_grid</code> can have both horizontal, vertical facet labels</li>
</ul>

<pre><code class="r">p1 + facet_grid(cut ~ color)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-10.png" title="plot of chunk unnamed-chunk-10" alt="plot of chunk unnamed-chunk-10" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>order of variables affects position of facets</li>
<li><code>facet_wrap</code> orders facets by position in the call</li>
</ul>

<pre><code class="r">p1 + facet_wrap(~ color + cut) # same as facet_wrap(color ~ cut)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-11.png" title="plot of chunk unnamed-chunk-11" alt="plot of chunk unnamed-chunk-11" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>order of variables affects position of facets</li>
<li><code>facet_wrap</code> orders facets by position in the call</li>
</ul>

<pre><code class="r">p1 + facet_wrap(~ cut + color) # same as facet_wrap(cut ~ color)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-12.png" title="plot of chunk unnamed-chunk-12" alt="plot of chunk unnamed-chunk-12" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>order of variables affects position of facets</li>
<li><code>facet_grid</code> orders vertical/horizontal facets by left/right of tilde</li>
</ul>

<pre><code class="r">p1 + facet_grid(cut ~ color) # not the same as facet_grid(~ cut + color)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-13.png" title="plot of chunk unnamed-chunk-13" alt="plot of chunk unnamed-chunk-13" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>order of variables affects position of facets</li>
<li><code>facet_grid</code> orders vertical/horizontal facets by left/right of tilde</li>
</ul>

<pre><code class="r">p1 + facet_grid(color ~ cut) # not the same as facet_grid(~ color + cut)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-14.png" title="plot of chunk unnamed-chunk-14" alt="plot of chunk unnamed-chunk-14" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>both use the <code>scales</code> argument for axes, otherwise fixed</li>
</ul>

<pre><code class="r">p1 + facet_wrap(~ color + cut, scales = &#39;free&#39;) # or &#39;free_x&#39;, &#39;free_y&#39; 
</code></pre>

<p><img src="assets/fig/unnamed-chunk-15.png" title="plot of chunk unnamed-chunk-15" alt="plot of chunk unnamed-chunk-15" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>facet_grid</code> treats <code>scales</code> differently</li>
</ul>

<pre><code class="r">p1 + facet_grid(color ~ cut, scales = &#39;free&#39;) # or &#39;free_x&#39;, &#39;free_y&#39; 
</code></pre>

<p><img src="assets/fig/unnamed-chunk-16.png" title="plot of chunk unnamed-chunk-16" alt="plot of chunk unnamed-chunk-16" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>facet_wrap</code> uses the <code>ncol</code> argument</li>
</ul>

<pre><code class="r">p1 + facet_wrap(~ color + cut, ncol = 7)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-17.png" title="plot of chunk unnamed-chunk-17" alt="plot of chunk unnamed-chunk-17" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>facet_wrap vs facet_grid</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>facet_grid</code> always creates a symmetrical plot</li>
</ul>

<pre><code class="r">p1 + facet_grid(~ color + cut)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-18.png" title="plot of chunk unnamed-chunk-18" alt="plot of chunk unnamed-chunk-18" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>A huge advantage of facets...</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Very easy to quickly evaluate a variable by multiple categories</li>
<li>Adding some fake variables to diamonds...</li>
</ul>

<pre><code class="r">diamonds$fake1 &lt;- sample(c(&#39;A&#39;, &#39;B&#39;), nrow(diamonds), replace = T)
diamonds$fake2 &lt;- sample(c(&#39;C&#39;, &#39;D&#39;), nrow(diamonds), replace = T)
diamonds$fake3 &lt;- sample(c(&#39;E&#39;, &#39;F&#39;), nrow(diamonds), replace = T)
diamonds$fake4 &lt;- sample(c(&#39;G&#39;, &#39;H&#39;), nrow(diamonds), replace = T)
head(diamonds[, grep(&#39;fake&#39;, names(diamonds))])
</code></pre>

<pre><code>##   fake1 fake2 fake3 fake4
## 1     B     C     E     G
## 2     B     C     E     H
## 3     B     C     E     G
## 4     A     C     F     G
## 5     A     D     F     H
## 6     B     C     F     G
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>A huge advantage of facets...</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">p1 + facet_grid(fake1 + fake2 ~ fake3 + fake4)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-21.png" title="plot of chunk unnamed-chunk-21" alt="plot of chunk unnamed-chunk-21" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Facet summary</h2>
  </hgroup>
  <article data-timings="">
    <p><code>facet_wrap</code> and <code>facet_grid</code> accomplish similar tasks, with slight differences</p>

<p><code>facet_wrap</code></p>

<ul>
<li>only horizontal facet labels</li>
<li>not symmetric, uses <code>ncol</code></li>
<li>scales affect all facets</li>
</ul>

<p><code>facet_grid</code></p>

<ul>
<li>horizontal/vertical facet labels</li>
<li>always symmetric</li>
<li><p>scales only affect outer facets </p>

<ul>
<li>Not apparent why you would use one over the other...</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>ggplot2 creates plots with a given theme, default is <code>theme_grey()</code></li>
</ul>

<pre><code class="r">data(iris)
p2 &lt;- ggplot(iris, aes(x = Sepal.Length, 
        y = Sepal.Width, 
        colour = Species)) +
    geom_point()
p2
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-23.png" title="plot of chunk unnamed-chunk-23" alt="plot of chunk unnamed-chunk-23" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Other pre-loaded themes are <code>theme_bw()</code> and...</li>
</ul>

<pre><code class="r">p2 + theme_bw() 
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-25.png" title="plot of chunk unnamed-chunk-25" alt="plot of chunk unnamed-chunk-25" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li><code>theme_classic()</code></li>
</ul>

<pre><code class="r">p2 + theme_classic()    
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-27.png" title="plot of chunk unnamed-chunk-27" alt="plot of chunk unnamed-chunk-27" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Themes</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Themes are simply complete calls to the <code>ggplot2::theme</code> function</li>
<li>A custom theme is easily made</li>
</ul>

<pre><code class="r">ugly_theme &lt;- theme(
    panel.background = element_rect(fill = &quot;green&quot;), 
    axis.line = element_line(size = 3, colour = &quot;red&quot;, linetype = &quot;dotted&quot;),
    axis.text = element_text(colour = &quot;blue&quot;),
    axis.ticks.length = unit(.85, &quot;cm&quot;)
    )
</code></pre>

<ul>
<li>Complete list of theme options <a href = http://docs.ggplot2.org/current/theme.html>here</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Great success!</li>
</ul>

<pre><code class="r">p2 + ugly_theme
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-30.png" title="plot of chunk unnamed-chunk-30" alt="plot of chunk unnamed-chunk-30" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Themes</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The user-defined theme can also be set as default by updating an existing theme</li>
</ul>

<pre><code class="r">ugly_default &lt;- function(){
    theme_grey() %+replace%
    theme(
        panel.background = element_rect(fill = &quot;green&quot;), 
        axis.line = element_line(size = 3, colour = &quot;red&quot;, linetype = &quot;dotted&quot;),
        axis.text = element_text(colour = &quot;blue&quot;),
        axis.ticks.length = unit(.85, &quot;cm&quot;)
        )
    }
theme_set(ugly_default())

p2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>Themes</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The ggthemes library provides additional themes</li>
</ul>

<pre><code class="r">library(devtools)
install_github(&#39;ggthemes&#39;, username = &#39;jrnold&#39;)
library(ggthemes)   
</code></pre>

<ul>
<li>Check the <a href = https://github.com/jrnold/ggthemes>repo</a> on Github for more info</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>The ggthemes library provides additional themes</li>
<li>Wall Street Journal theme</li>
</ul>

<pre><code class="r">p2 + theme_wsj()
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-35.png" title="plot of chunk unnamed-chunk-35" alt="plot of chunk unnamed-chunk-35" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>The ggthemes library provides additional themes</li>
<li>Google docs theme</li>
</ul>

<pre><code class="r">p2 + theme_gdocs()
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-37.png" title="plot of chunk unnamed-chunk-37" alt="plot of chunk unnamed-chunk-37" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Themes</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>The ggthemes library provides additional themes</li>
<li>Even this old school Excel theme...</li>
</ul>

<pre><code class="r">p2 + theme_excel()
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-39.png" title="plot of chunk unnamed-chunk-39" alt="plot of chunk unnamed-chunk-39" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Easy mapping with ggmap</h2>
  </hgroup>
  <article data-timings="">
    <p><q><font size="6">The basic idea of ggmap is to take a downloaded map image, plot it as a context layer using ggplot2, and then plot additional content layers of data, statistics, or models on top of the map.</font></q></p>

<div align="right"><a href = "http://journal.r-project.org/archive/2013-1/kahle-wickham.pdf">Kahle and Wickham 2011</a></div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Easy mapping with ggmap</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>install/load ggmap</li>
<li>download the images and format for plotting, done with <code>get_map</code></li>
</ul>

<pre><code class="r">install.packages(&#39;ggmap&#39;)
library(ggmap)

# get map by location
loc &lt;- &#39;Environmental Protection Agency, 1 Sabine Drive, Gulf Breeze, FL&#39;
my_map &lt;- get_map(
    location = loc, 
    source = &#39;google&#39;, 
    maptype = &#39;terrain&#39;, 
    zoom = 13
    )
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Easy mapping with ggmap</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>plot with <code>ggmap</code></li>
</ul>

<pre><code class="r">ggmap(my_map, extent = &#39;panel&#39;)
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-43.png" title="plot of chunk unnamed-chunk-43" alt="plot of chunk unnamed-chunk-43" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Easy mapping with ggmap</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Now add some regular ggplot2 content layers</li>
</ul>

<pre><code class="r">pts &lt;- data.frame(
    lon = c(-87.1930, -87.2050, -87.1571),
    lat = c(30.3473, 30.3406, 30.3380),
    lab = c(&#39;Site 1&#39;, &#39;Site 2&#39;, &#39;Home&#39;)
    )
ggmap(my_map, extent = &#39;panel&#39;,
    base_layer = ggplot(pts, 
            aes(x = lon, y = lat))) +
        geom_text(aes(label = lab))
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-45.png" title="plot of chunk unnamed-chunk-45" alt="plot of chunk unnamed-chunk-45" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>Easy mapping with ggmap</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Additional map types</li>
<li>See <a href = http://cran.r-project.org/web/packages/ggmap/ggmap.pdf>documentation</a> for full list of options</li>
</ul>

<pre><code class="r">my_map &lt;- get_map(
    location = loc, 
    source = &#39;google&#39;, 
    maptype = &#39;satellite&#39;, 
    zoom = 13
    )
ggmap(my_map, extent = &#39;panel&#39;)
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-47.png" title="plot of chunk unnamed-chunk-47" alt="plot of chunk unnamed-chunk-47" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>GGally</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>A helper to ggplot2... contains templates for different plots to be combined into a plot matrix, a parallel coordinate plot function, as well as a function for making a network plot, on <a href = http://cran.r-project.org/web/packages/GGally/GGally.pdf>CRAN</a></li>
<li>The <a href=http://vita.had.co.nz/papers/gpp.pdf>generalized pairs plot</a> is a plot matrix that builds on the standard pairs plot</li>
</ul>

<pre><code class="r">data(tips, package = &quot;reshape2&quot;)
pairs(tips[, 1:4])
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-49.png" title="plot of chunk unnamed-chunk-49" alt="plot of chunk unnamed-chunk-49" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>GGally</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Pairs plots are inadequate for exploratory analysis of variables that are a mix of quantitative and categorical information</li>
<li>ggpairs provides a plot matrix of mosaic tiles that describe data of different categories using a ggplot2 framework</li>
</ul>

<pre><code class="r">install.packages(&#39;GGally&#39;)
ggpairs(tips[, 1:4])
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-51.png" title="plot of chunk unnamed-chunk-51" alt="plot of chunk unnamed-chunk-51" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>GGally</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Information above/below diagonal is not redundant</li>
<li>quantitative-quantitative: scatterplot</li>
<li>quantitative-categorical: boxplots</li>
<li>categorical-categorical: conditional barplots</li>
</ul>

<pre><code class="r">install.packages(&#39;GGally&#39;)
ggpairs(tips[, 1:4])
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-53.png" title="plot of chunk unnamed-chunk-53" alt="plot of chunk unnamed-chunk-53" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>GGally</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Defaults can be customized</li>
</ul>

<pre><code class="r">install.packages(&#39;GGally&#39;)
ggpairs(
  tips[,1:4],
  upper = list(continuous = &quot;density&quot;, 
    combo = &quot;box&quot;),
  lower = list(continuous = &quot;points&quot;, 
    combo = &quot;dot&quot;)
    )
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-55.png" title="plot of chunk unnamed-chunk-55" alt="plot of chunk unnamed-chunk-55" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>GGally</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Other plots... static parallel coordinate plots.</li>
</ul>

<pre><code class="r">ggparcoord(data = iris, columns = 1:4, 
    groupColumn = 5, 
    order = &quot;anyClass&quot;)
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-57.png" title="plot of chunk unnamed-chunk-57" alt="plot of chunk unnamed-chunk-57" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="">
  <hgroup>
    <h2>GGally</h2>
    <br/>
  </hgroup>
  <article>
      
    <div class='left' style='float:left;width:50%'>
      <ul>
<li>Other plots... network plots.</li>
</ul>

<pre><code class="r">library(sna)

url = url(&quot;http://networkdata.ics.uci.edu/
    netdata/data/cities.RData&quot;)
print(load(url)); close(url)
# plot cities, firms and law firms
type = cities %v% &quot;type&quot;
type = ifelse(grepl(&quot;City|Law&quot;, type), 
    gsub(&quot;I+&quot;, &quot;&quot;, type), &quot;Firm&quot;)
ggnet(cities, mode = &quot;kamadakawai&quot;, 
    alpha = .5, node.group = type, 
    label.nodes = c(&quot;Paris&quot;, &quot;Beijing&quot;, 
        &quot;Chicago&quot;), 
    color = &quot;darkred&quot;)
</code></pre>

    </div>    
    <div class='right' style='float:right;width:50%'>
      <p><img src="assets/fig/unnamed-chunk-59.png" title="plot of chunk unnamed-chunk-59" alt="plot of chunk unnamed-chunk-59" style="display: block; margin: auto;" /></p>

    </div>
  </article>
</slide>

<slide class="" id="slide-40" style="background:;">
  <hgroup>
    <h2>What does ggplot2 offer that isn&#39;t in base?</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Many geoms</li>
</ul>

<pre><code class="r">ls(pattern = &#39;^geom_&#39;, env = as.environment(&#39;package:ggplot2&#39;))
</code></pre>

<pre><code>##  [1] &quot;geom_abline&quot;     &quot;geom_area&quot;       &quot;geom_bar&quot;       
##  [4] &quot;geom_bin2d&quot;      &quot;geom_blank&quot;      &quot;geom_boxplot&quot;   
##  [7] &quot;geom_contour&quot;    &quot;geom_crossbar&quot;   &quot;geom_density&quot;   
## [10] &quot;geom_density2d&quot;  &quot;geom_dotplot&quot;    &quot;geom_errorbar&quot;  
## [13] &quot;geom_errorbarh&quot;  &quot;geom_freqpoly&quot;   &quot;geom_hex&quot;       
## [16] &quot;geom_histogram&quot;  &quot;geom_hline&quot;      &quot;geom_jitter&quot;    
## [19] &quot;geom_line&quot;       &quot;geom_linerange&quot;  &quot;geom_map&quot;       
## [22] &quot;geom_path&quot;       &quot;geom_point&quot;      &quot;geom_pointrange&quot;
## [25] &quot;geom_polygon&quot;    &quot;geom_quantile&quot;   &quot;geom_raster&quot;    
## [28] &quot;geom_rect&quot;       &quot;geom_ribbon&quot;     &quot;geom_rug&quot;       
## [31] &quot;geom_segment&quot;    &quot;geom_smooth&quot;     &quot;geom_step&quot;      
## [34] &quot;geom_text&quot;       &quot;geom_tile&quot;       &quot;geom_violin&quot;    
## [37] &quot;geom_vline&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-41" style="background:;">
  <hgroup>
    <h2>What does ggplot2 offer that isn&#39;t in base?</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Easy facetting, pre-loaded and customized themes, spatial data, pairs plots...</p></li>
<li><p>See online <a href = http://ggplot2.org/>documentation</a> for more comprehensive descriptions</p></li>
<li><p>Presentation materials available <a href = https://github.com/fawda123/ggpres_102>here</a></p></li>
<li><p>EPA, NHEERL slidify template from Jeff&#39;s <a href = https://github.com/jhollist/jwhSlidifyStyle>repo</a></p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='To cover'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='R Code Chunk Example'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Simple scatterplot'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Simple scatterplot with facet_wrap'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Simple scatterplot with facet_grid'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='facet_wrap vs facet_grid'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='facet_wrap vs facet_grid'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='facet_wrap vs facet_grid'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='facet_wrap vs facet_grid'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='facet_wrap vs facet_grid'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='facet_wrap vs facet_grid'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='facet_wrap vs facet_grid'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='facet_wrap vs facet_grid'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='facet_wrap vs facet_grid'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='facet_wrap vs facet_grid'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='A huge advantage of facets...'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='A huge advantage of facets...'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Facet summary'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Themes'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Themes'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Themes'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Themes'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Themes'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Themes'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Themes'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Themes'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Themes'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Themes'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='Easy mapping with ggmap'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Easy mapping with ggmap'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='Easy mapping with ggmap'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='Easy mapping with ggmap'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Easy mapping with ggmap'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='GGally'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='GGally'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='GGally'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='GGally'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='GGally'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='GGally'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title='What does ggplot2 offer that isn&#39;t in base?'>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='What does ggplot2 offer that isn&#39;t in base?'>
         41
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>